## Markdown

# Explicación de cada comando que vimos en clase

- cd Documents: Con este comando se entra a la carpeta Documents del usuario.

- md nombre: Sirve para crear una carpeta con el nombre que le asignamos.

- cd nombre: Sirve para entrar a la carpeta que ya hayamos creado.

- code .: Sirve para abrir Visual Studio Code en la carpeta actual.

- dir: Este comando muestra la lista de archivos y carpetas que están dentro del directorio actual.

- pip list: Con este comando se muestran todos los paquetes de Python instalados en nuestro entorno actual, junto con sus versiones.

- python -m venv venv: Sirve para crear un entorno virtual, es como una “caja” donde se guarda todo lo que necesita nuestro proyecto sin mezclarlo con otros proyectos.

- venv\Scripts\activate: Con este comando activamos el entorno virtual, o sea la “caja” que ya creamos.

- pip install django: Sirve para instalar Django al proyecto y poder empezar a construir un sitio web.

- django-admin startproject marketplace_main: Con este comando se crea el proyecto base, se generan las carpetas y archivos necesarios para que Django pueda funcionar.

- python manage.py startapp store: Sirve para crear una aplicación dentro del proyecto. Es como abrir una sección nueva en tu sitio web.

- pip install pillow: Con este comando se instala un soporte para imágenes, permitiendo que nuestro proyecto trabaje con fotos.

- python manage.py makemigrations: Sirve para preparar los cambios en la base de datos. Django detecta las cosas nuevas que hayamos agregado y se prepara para guardarlas.

- python manage.py migrate: Con este comando se aplican los cambios a la base de datos; ahora sí, guarda todo lo nuevo que hayamos agregado en la base de datos para que funcione correctamente.

- python manage.py runserver: Con este comando se inicia el servidor web. En este punto el sitio web ya está listo para verse en el navegador. 

- python manage.py createsuperuser: Sirve para crear un usuario administrador. Este usuario administrador puede entrar al panel de control de Django y manejar todo desde ahí.

# DIAGRAMA Y EXPLICACIÓN DE ARQUITECTURA MVT


Django utiliza una arquitectura " MVT (Model- View - Template) "el cual es una variación del tradicional "MVC (Model-View-Controller) "

Este Modelo está estructurado para optimizar el flujo de trabajo en aplicaciones web modernas, el cual se conforma de las siguientes partes

Modelo ( Model ): Gestiona los datos y su estructura; representa la capa de acceso a datos y lógica asociada ( Interactúa con la base de datos ).

Vista ( View ): Actúa como la capa lógica, gestionando las solicitudes web, procesando datos y decidiendo cuales mostrar y cómo responder ( es la lógica de negocio ).

Plantilla ( Template ): Es la capa de presentación, encargada de mostrar visualmente los datos al usuario (se usa con rutas urls y es la interfaz del usuario ).

El flujo de información en este diagrama se genera de la siguiente forma

![mvt](media/MVT.png)

1- El usuario realiza una petición HTML ( un caso podría ser accediendo a una URL).
2- El sistema de URLs de Django ("dispatcher") redirige la petición a la vista correspondiente.
3- La vista según la lógica programada, puede consultar o actualizar el modelo (accediendo a la base de datos).
4- La vista decide que datos enviar a la plantilla y llama a la función de renderizado.
5- La plantilla toma estos datos y los presenta en una página HTML dinámica, que es enviada como respuesta al usuario.

# Explicación de los archivos Django

## settings.py
Puede definirse de forma coloquial como el centro de control del proyecto. Aquí se guarda toda la configuración general de nuestra página web, como por ejemplo: la base de datos que se va a usar, los idiomas, la zona horaria, etc....

También se encuentran datos muy importantes como:
- La clave secreta (SECRET_KEY) que usa Django para temas de seguridad.
- Si el modo DEBUG está activado (esto sirve mientras desarrollamos, pero debe estar apagado cuando el sitio se publique).
- Los archivos estáticos, como imágenes o archivos CSS y JavaScript.
- Los middlewares, que son una especie de filtros que procesan las peticiones antes y después de que lleguen a las vistas.

### Codigo 

```
"""
Django settings for marketplace_main project.




Generated by 'django-admin startproject' using Django 5.2.7.




For more information on this file, see
https://docs.djangoproject.com/en/5.2/topics/settings/




For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.2/ref/settings/
"""




from pathlib import Path




# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent








# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.2/howto/deployment/checklist/




# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-!xj)oqfv(*$4i2v!5#zu_uwssy#oja9eeky+)ei&ngm+&@o4v8'




# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True




ALLOWED_HOSTS = []








# Application definition




INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'store',
]




MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]




ROOT_URLCONF = 'marketplace_main.urls'




TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]




WSGI_APPLICATION = 'marketplace_main.wsgi.application'








# Database
# https://docs.djangoproject.com/en/5.2/ref/settings/#databases




DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}








# Password validation
# https://docs.djangoproject.com/en/5.2/ref/settings/#auth-password-validators




AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]








# Internationalization
# https://docs.djangoproject.com/en/5.2/topics/i18n/




LANGUAGE_CODE = 'en-us'




TIME_ZONE = 'UTC'




USE_I18N = True




USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.2/howto/static-files/




STATIC_URL = 'static/'
MEDIA_URL = 'media/'
MEDIA_ROOT = BASE_DIR / 'media'
# Default primary key field type
# https://docs.djangoproject.com/en/5.2/ref/settings/#default-auto-field




DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

```
## Urls.py

Es el que controla las direcciones web (URLs) que el usuario puede visitar dentro del sitio. Podemos decir que asigna qué vista se ejecuta según la dirección que escriba el usuario en el navegador.
Por ejemplo, si alguien entra a:
www.marketplaceaguilarmedina.com/
Django sabe que debe ejecutar cierta función en el archivo views.py.
Y si entra a:
www.marketplaceaguilarmedina.com/producto/5
Ejecuta otra función que muestra los detalles de un producto en específico.

### Codigo (marketplace_main)

```
"""
URL configuration for marketplace_main project.




The `urlpatterns` list routes URLs to views. For more information please see:
    https://docs.djangoproject.com/en/5.2/topics/http/urls/
Examples:
Function views
    1. Add an import:  from my_app import views
    2. Add a URL to urlpatterns:  path('', views.home, name='home')
Class-based views
    1. Add an import:  from other_app.views import Home
    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
Including another URLconf
    1. Import the include() function: from django.urls import include, path
    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
"""
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static
from store.views import home


urlpatterns = [
    path('',home,name='home'),
    path('admin/', admin.site.urls),
    path('store/',include('store.urls')),
] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)

```

### Codigo (Store)

```
from django.urls import path


from.views import contact,detail
urlpatterns=[
    path('contact/', contact, name='contact' ),
    path('detail/<int:pk>/', detail, name='detail'),
]

```



